{{define "top_bar"}}
{{ if .Authenticated }}
     <div class="flex flex-row justify-between items-center h-16 w-full  bg-gray-800 text-white px-4">
        <div class="flex flex-row items-center gap-3">
            <div class="w-10 h-10 bg-blue-500 rounded-full">
                {{ if .LoggedUserProfileImage }}
                    <img src="{{ .LoggedUserProfileImage }}" alt="Profile Image" class="w-10 h-10 rounded-full object-cover">
                {{ else }}
                    <span class="flex items-center justify-center h-full text-xl font-bold text-white">
                        {{ printf "%s%s" (slice .LoggedUserFirstName 0 1) (slice .LoggedUserLastName 0 1) }}
                    </span>
                {{ end }}
            </div>
            <h2 class="text-lg font-bold">{{ .LoggedUserFirstName }} {{ .LoggedUserLastName }}</h2>
        </div>
        
        <h2 class="text-lg font-bold">{{ .PageTitle }}</h2>

        <nav class="flex flex-row">
            <a href="/app/profile" class="px-4 py-2 hover:bg-gray-700">Meu Portfolio</a>
            <button onclick="redirectToSearch()" class="px-4 py-2 hover:bg-gray-700">Buscar</button>
            <button onclick="logout()" class="px-4 py-2 hover:bg-gray-700">Logout</button>
        </nav>
    </div>
{{ else }}
    <div class="flex flex-row justify-between items-center h-16 w-full  bg-gray-800 text-white px-4">
        <a href="/app/profile" class="text-xl font-bold hover:text-gray-300">DevPortfolio</a>
        
        <h2 class="text-lg font-bold">{{ .PageTitle }}</h2>

        <nav class="flex flex-row">
            <button onclick="redirectToSearch()" class="px-4 py-2 hover:bg-gray-700">Buscar</button>
            <button onclick="login()" class="px-4 py-2 hover:bg-gray-700">Login</button>
        </nav>
    </div>
{{ end }}
{{end}}